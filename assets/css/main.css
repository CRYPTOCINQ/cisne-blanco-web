@import url("./_fonts.css?v=1201");

/* ================== Tipografías ================== */
:root{
  --font-sans: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --font-mono: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
}
html, body { font-family: var(--font-sans) !important; }
code, pre, kbd, samp { font-family: var(--font-mono) !important; }

/* =================================================
   THEME: AUTO (light – default)
   ================================================= */
:root{
  /* radii, sombras, spacing */
  --radius: 14px;
  --shadow: 0 1px 2px rgba(0,0,0,.04), 0 8px 24px rgba(0,0,0,.06);
  --space-1: .25rem; --space-2: .5rem; --space-3: .75rem; --space-4: 1rem; --space-6: 1.5rem;

  /* tokens base */
  --bg: #ffffff;
  --fg: #111827;
  --muted: #6b7280;

  --card: #ffffff;
  --card-border: #e5e7eb;

  --surface: #f8fafc;
  --surface-border: #e5e7eb;

  --accent: #111827;
  --accent-fg: #ffffff;

  --link: #0a66c2;
  --link-hover: #084b8f;

  --header-bg: rgba(255,255,255,.75);
  --header-border: #e5e7eb;

  --ok: #059669; --warn: #d97706; --danger: #b91c1c;
}

/* =================================================
   THEME: NAVY-ICE (tema alterno)
   ================================================= */
[data-theme="navy-ice"]{
  --bg: #0f1b2d;
  --fg: #e9f2ff;
  --muted: #b0c2de;

  --card: #142239;
  --card-border: #20324b;

  --surface: #0f1b2d;
  --surface-border: #20324b;

  --accent: #58a6ff;
  --accent-fg: #081018;

  --link: #9bc8ff;
  --link-hover: #cbe2ff;

  --header-bg: rgba(15,27,45,.75);
  --header-border: #20324b;

  --ok: #22c55e; --warn: #f59e0b; --danger: #ef4444;
}

/* ================== Base común ================== */
html, body{ background: var(--bg); color: var(--fg); }
header{ background: var(--header-bg); border-bottom: 1px solid var(--header-border); }
a{ color: var(--link); } a:hover{ color: var(--link-hover); }
.transition-theme{ transition: background-color .25s, color .25s, border-color .25s, box-shadow .25s; }

/* ================== Componentes neutros ================== */
.card{
  background: var(--card);
  border: 1px solid var(--card-border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}
.surface{
  background: var(--surface);
  border: 1px solid var(--surface-border);
  border-radius: var(--radius);
}
.muted{ color: var(--muted); }

/* Botones */
.btn{
  display: inline-flex; align-items: center; gap: .5ch;
  padding: .5rem .75rem;
  border: 1px solid var(--card-border);
  border-radius: calc(var(--radius) - 4px);
  background: var(--card);
  color: var(--fg);
}
.btn:hover{ filter: brightness(0.98); }
.btn-primary{
  background: var(--accent);
  color: var(--accent-fg);
  border-color: var(--accent);
}
.btn-primary:hover{ filter: brightness(1.05); }
/* alias de compatibilidad v1.2 */
.btn--sm{ padding: .375rem .625rem; font-size: .875rem; }  /* compat */
.btn-sm{  padding: .375rem .625rem; font-size: .875rem; }
.btn--primary{ background: var(--accent); color: var(--accent-fg); border-color: var(--accent); } /* compat */

/* Navegación activa */
.nav a.active{
  background: var(--card);
  color: var(--fg);
  border: 1px solid var(--card-border);
  border-radius: calc(var(--radius) - 6px);
  padding: .25rem .5rem;
}

/* Panel de “Eventos del día” y calendario (si se usan estas clases) */
.day-events{ background: var(--card); border: 1px solid var(--card-border); border-radius: var(--radius); box-shadow: 0 10px 24px rgba(0,0,0,.08); }
.day-events .muted, .day-events p{ color: var(--muted); }
.day-cell{ background: var(--card); border:1px solid var(--card-border); border-radius: var(--radius); }

/* ================== Accesibilidad ================== */
:focus-visible{ outline: 2px solid var(--link); outline-offset: 2px; }

/* ================== Sistema ================== */
/* Respeto preferencia del SO como default del esquema de color (no afecta navy-ice) */
@media (prefers-color-scheme: dark){
  :root:not([data-theme]) { color-scheme: dark; }
}

/* v1.3.1 NAVY-ICE — contraste de texto y bordes */
[data-theme="navy-ice"]{
  --fg:            #ffffff;   /* texto principal más claro */
  --muted:         #d6e3f7;   /* texto secundario legible */
  --card-border:   #3a5170;   /* borde más visible */
  --surface-border:#3a5170;   /* idem en superficies */
}

/* Calendario: números y contenido bien visibles */
[data-theme="navy-ice"] .day-cell,
[data-theme="navy-ice"] .day-cell *{
  color: var(--fg);
}

/* Panel de eventos: párrafos y “Trading” más claros */
[data-theme="navy-ice"] .day-events p,
[data-theme="navy-ice"] .day-events .muted{
  color: var(--muted);
}
[data-theme="navy-ice"] .day-events strong{
  color: var(--fg);
}

/* Bordes más marcados en celdas, tarjetas y botones */
[data-theme="navy-ice"] .day-cell,
[data-theme="navy-ice"] .card,
[data-theme="navy-ice"] .btn,
[data-theme="navy-ice"] .day-events{
  border-color: var(--card-border);
}

/* v1.3.3 calendario: días fuera del mes actual (más legibles) */
.day-cell.dimmed-day { opacity: .75; }

/* === utilidades mínimas para calendario === */
.p-2 { padding: .5rem; }
.p-3 { padding: .75rem; }
.text-left { text-align: left; }
.text-sm { font-size: .875rem; }
.text-xs { font-size: .75rem; }
.font-semibold { font-weight: 600; }
.mt-1 { margin-top: .25rem; }
.mt-2 { margin-top: .5rem; }
.space-y-1 > * + * { margin-top: .25rem; }
.flex { display:flex; }
.items-center { align-items:center; }
.items-start { align-items:flex-start; }
.justify-between { justify-content: space-between; }
.gap-2 { gap: .5rem; }
.truncate { overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.rounded { border-radius: var(--radius); }
.bg-black { background:#000; }
.text-white { color:#fff; }
.px-1\.5 { padding-left:.375rem; padding-right:.375rem; }
.py-0\.5 { padding-top:.125rem; padding-bottom:.125rem; }

/* ===== Topbar unificada ===== */
.topbar { background: var(--nav); border-bottom: 1px solid var(--card-border); }
.topbar-inner { max-width: 1200px; margin: 0 auto; padding: .5rem 1rem; display: grid; grid-template-columns: 1fr auto auto; gap: 1rem; align-items: center; }
.brand { display:flex; align-items:center; gap:.5rem; text-decoration:none; }
.brand-dot { display:inline-grid; place-items:center; width:28px; height:28px; border-radius:999px; background:#000; color:#fff; font-weight:700; font-size:.85rem; }
.brand-title { color: var(--text); font-weight:600; }
.tabs { display:flex; gap:.75rem; flex-wrap:wrap; }
.tabs a { padding:.25rem .5rem; border-radius:999px; text-decoration:none; color: var(--link,#2563eb); border:1px solid transparent; }
.tabs a.active { background: #000; color:#fff; border-color:#000; }
.theme-pill { margin-left:.5rem; padding:.25rem .75rem; border-radius:999px; border:1px solid var(--card-border); background: var(--card); color: var(--text); }

/* ===== Dialog / Modal calendario ===== */
dialog {
  background: var(--card);
  color: var(--text);
  border: 1px solid var(--card-border);
  border-radius: 16px;
  max-width: 840px; /* ↑ antes 720px */
  width: 100%;
}
dialog::backdrop { background: rgba(0,0,0,.45); backdrop-filter: blur(2px); }

/* Tipografía unificada dentro del modal */
dialog, dialog * { font-family: inherit; color: var(--text); }

/* Inputs coherentes con la UI */
dialog .input, dialog input, dialog select, dialog textarea {
  width: 100%;
  background: var(--surface, #0b1320); /* fallback correcto */
  color: var(--text);
  border: 1px solid var(--card-border);
  border-radius: 12px;
  padding: .6rem .75rem;
  line-height: 1.35;
  box-sizing: border-box; /* evita desbordes */
}
dialog textarea { resize: vertical; min-height: 110px; font-family: inherit; }

/* Título del modal */
#modalTitle { font-weight: 700; font-size: 1.125rem; color: var(--text); }

/* Grid del formulario: 2 col responsive sin superposición */
.modal-grid {
  display: grid;
  gap: 1rem; /* ↑ antes .75rem */
  grid-template-columns: repeat(2, minmax(0,1fr));
}
@media (max-width: 680px){
  .modal-grid { grid-template-columns: 1fr; }
  dialog { max-width: 96vw; }
}

/* Botonera inferior */
.modal-actions { display:flex; gap:.5rem; justify-content:flex-end; padding: 1rem; }

/* === Contraste de íconos nativos date/time en navy-ice === */
[data-theme="navy-ice"] input[type="date"],
[data-theme="navy-ice"] input[type="time"],
[data-theme="navy-ice"] select{
  color-scheme: dark; /* mejora controles nativos en oscuro */
}

/* WebKit (Chrome/Edge/Opera/Safari) */
[data-theme="navy-ice"] input[type="date"]::-webkit-calendar-picker-indicator,
[data-theme="navy-ice"] input[type="time"]::-webkit-calendar-picker-indicator{
  filter: invert(1) brightness(1.8) contrast(1.2);
  opacity: .9;
}

/* Espacio para el ícono y evitar que tape el texto */
dialog input[type="date"],
dialog input[type="time"]{
  padding-right: 2.25rem;
  box-sizing: border-box;
}

/* === navy-ice: iconos claros SOLO dentro del modal (WebKit) === */
/* Fecha */
[data-theme="navy-ice"] dialog input[type="date"]::-webkit-calendar-picker-indicator{
  /* Reemplazo visual por SVG claro, sin tocar el control nativo */
  background: center / 16px 16px no-repeat
    url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='%23E9F2FF'><path d='M7 2a1 1 0 0 1 1 1v1h8V3a1 1 0 1 1 2 0v1h1a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1V3a1 1 0 0 1 1-1zm12 8H5v9h14v-9zM7 6H5v2h14V6h-2V5a1 1 0 1 0-2 0v1H9V5a1 1 0 1 0-2 0v1z'/></svg>");
  opacity: 1;
  filter: none;
}

/* Hora */
[data-theme="navy-ice"] dialog input[type="time"]::-webkit-calendar-picker-indicator{
  background: center / 16px 16px no-repeat
    url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='%23E9F2FF'><path d='M12 1a11 11 0 1 0 11 11A11.013 11.013 0 0 0 12 1zm0 20a9 9 0 1 1 9-9 9.01 9.01 0 0 1-9 9zm.5-14h-2v6l5.25 3.15 1-1.65-4.25-2.5z'/></svg>");
  opacity: 1;
  filter: none;
}

/* Asegura que el texto no se pise con el icono */
[data-theme="navy-ice"] dialog input[type="date"],
[data-theme="navy-ice"] dialog input[type="time"]{
  padding-right: 2.25rem;
  box-sizing: border-box;
}

/* ================== Fin ================== */
